<h1 align="center">æˆ‘æ˜¯ä¸€ä¸ªèƒ½è¯†åˆ«ä¸­å›½äºŒä»£èº«ä»½è¯çš„Demo ğŸ‘‹</h1>

## âœ¨ Demo

#### ä¸€ã€å†™åœ¨å¼€å¤´
â€ƒâ€ƒèº«ä»½è¯è¯†åˆ«ï¼Œåˆç§°OCRæŠ€æœ¯ã€‚OCRæŠ€æœ¯æ˜¯å…‰å­¦å­—ç¬¦è¯†åˆ«çš„ç¼©å†™ï¼Œæ˜¯é€šè¿‡æ‰«æç­‰å…‰å­¦è¾“å…¥æ–¹å¼å°†å„ç§ç¥¨æ®ã€æŠ¥åˆŠã€ä¹¦ç±ã€æ–‡ç¨¿åŠå…¶å®ƒå°åˆ·å“çš„æ–‡å­—è½¬åŒ–ä¸ºå›¾åƒä¿¡æ¯ï¼Œå†åˆ©ç”¨æ–‡å­—è¯†åˆ«æŠ€æœ¯å°†å›¾åƒä¿¡æ¯è½¬åŒ–ä¸ºå¯ä»¥ä½¿ç”¨çš„è®¡ç®—æœºè¾“å…¥æŠ€æœ¯ã€‚

â€ƒâ€ƒå› ä¸ºé¡¹ç›®éœ€è¦ï¼Œæ‰€ä»¥è¿™äº›å¤©æŸ¥é˜…äº†ç›¸å…³èµ„æ–™ï¼Œæƒ³åœ¨ç½‘ä¸Šçœ‹çœ‹æœ‰æ²¡æœ‰å¤§ç¥å°è£…çš„ç°æˆçš„demoå¯ä»¥ç”¨ã€‚ä½†æ˜¯æ— æœï¼Œç½‘ä¸Šå…³äºocrè¿™ä¸€å—çš„èµ„æ–™å¾ˆå°‘ï¼Œæ¯”è¾ƒé è°±çš„éƒ½æ˜¯è¦æ”¶è´¹çš„ï¼Œè€Œä¸”ä»·æ ¼ä¹Ÿä¸ä¾¿å®œã€‚ä½†æ˜¯åœ¨å¤©æœï¼Œæ”¶è´¹æ„Ÿè§‰å¿ƒé‡Œä¸çˆ½ï¼Œæ‰€ä»¥å°±å†³å®šè‡ªå·±ç ”ç©¶ä¸€ç•ªã€‚

â€ƒâ€ƒå…ˆä¸Šä¸€ä¸ªæœ€ç»ˆå®ç°çš„æ•ˆæœï¼ˆå¦‚æœmacä¸æ˜¯retainå±å¹•çš„ï¼Œåˆ†è¾¨ç‡ä¼šæœ‰å½±å“ï¼Œéœ€è¦åœ¨çœŸæœºä¸Šè°ƒè¯•ï¼‰

![æœ€ç»ˆå®ç°çš„æ•ˆæœ.gif](http://upload-images.jianshu.io/upload_images/1248713-37d71a75530fc59a.gif?imageMogr2/auto-orient/strip)

#### äºŒã€éœ€è¦ç”¨åˆ°çš„æŠ€æœ¯
æœäº†å¾ˆå¤šèµ„æ–™ï¼Œå‘ç°è¦è¿›è¡Œèº«ä»½è¯å·ç çš„è¯†åˆ«ï¼Œéœ€è¦ç”¨åˆ°ä»¥ä¸‹å‡ ç§æŠ€æœ¯:
- ###### å›¾åƒå¤„ç†æŠ€æœ¯
åŒ…æ‹¬ç°åº¦åŒ–å¤„ç†ï¼ŒäºŒå€¼åŒ–ï¼Œè…èš€ï¼Œè½®å»Šæ£€æµ‹ç­‰ç­‰ã€‚

 1. ```ç°åº¦åŒ–å¤„ç†```ï¼šå›¾ç‰‡ç°åº¦åŒ–å¤„ç†å°±æ˜¯å°†æŒ‡å®šå›¾ç‰‡æ¯ä¸ªåƒç´ ç‚¹çš„RGBä¸‰ä¸ªåˆ†é‡é€šè¿‡ä¸€å®šçš„ç®—æ³•è®¡ç®—å‡ºè¯¥åƒç´ ç‚¹çš„ç°åº¦å€¼ï¼Œä½¿å›¾åƒåªå«äº®åº¦è€Œä¸å«è‰²å½©ä¿¡æ¯ã€‚
 
![ç°åº¦å›¾.png](http://upload-images.jianshu.io/upload_images/1248713-79e2e1d41ad25c05.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

 2. ```äºŒå€¼åŒ–```ï¼šäºŒå€¼åŒ–å¤„ç†å°±æ˜¯å°†ç»è¿‡ç°åº¦åŒ–å¤„ç†çš„å›¾ç‰‡è½¬æ¢ä¸ºåªåŒ…å«é»‘è‰²å’Œç™½è‰²ä¸¤ç§é¢œè‰²çš„å›¾åƒï¼Œä»–ä»¬ä¹‹é—´æ²¡æœ‰å…¶ä»–ç°åº¦çš„å˜åŒ–ã€‚åœ¨äºŒå€¼å›¾ä¸­ç”¨255ä¾¿æ˜¯ç™½è‰²ï¼Œ0è¡¨ç¤ºé»‘è‰²ã€‚
 
![äºŒå€¼å›¾.png](http://upload-images.jianshu.io/upload_images/1248713-74b6012efd2525f4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

 3. ```è…èš€```ï¼šå›¾ç‰‡çš„è…èš€å°±æ˜¯å°†å¾—åˆ°çš„äºŒå€¼å›¾ä¸­çš„é»‘è‰²å—è¿›è¡Œæ”¾å¤§ã€‚å³è¿æ¥å›¾ç‰‡ä¸­ç›¸é‚»é»‘è‰²åƒç´ ç‚¹çš„å…ƒç´ ã€‚é€šè¿‡è…èš€å¯ä»¥æŠŠèº«ä»½è¯ä¸Šçš„èº«ä»½è¯å·ç è¿æ¥åœ¨ä¸€èµ·å½¢æˆä¸€ä¸ªçŸ©å½¢åŒºåŸŸã€‚
 
![è…èš€å›¾.png](http://upload-images.jianshu.io/upload_images/1248713-41959874f87fd06d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

 4. ```è½®å»Šæ£€æµ‹```ï¼šå›¾ç‰‡ç»è¿‡è…èš€æ“ä½œåç›¸é‚»ç‚¹ä¼šè¿æ¥åœ¨ä¸€èµ·å½¢æˆä¸€ä¸ªå¤§çš„åŒºåŸŸï¼Œè¿™ä¸ªæ—¶å€™é€šè¿‡è½®å»Šæ£€æµ‹å°±å¯ä»¥æŠŠæ¯ä¸ªå¤§çš„åŒºåŸŸæ‰¾å‡ºæ¥ï¼Œè¿™æ ·å°±å¯ä»¥å®šä½åˆ°èº«ä»½è¯ä¸Šé¢å·ç çš„åŒºåŸŸã€‚
 
![è½®å»Šå›¾.png](http://upload-images.jianshu.io/upload_images/1248713-bfb20df29a04730a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

- ###### æ–‡å­—è¯†åˆ«æŠ€æœ¯
é€šè¿‡è¯†åˆ«å›¾åƒï¼Œå°†å›¾åƒä¿¡æ¯è½¬åŒ–ä¸ºå¯ä»¥ä½¿ç”¨çš„è®¡ç®—æœºè¾“å…¥æŠ€æœ¯ã€‚æ¯”å¦‚ä¸‹é¢è¿™å¼ åŒ…å«ä¸€ä¸²æ•°å­—çš„å›¾ç‰‡ï¼Œé€šè¿‡ocrè¯†åˆ«æŠ€æœ¯å¯ä»¥å°†å›¾ç‰‡ä¸­åŒ…å«çš„æ•°å­—ä¿¡æ¯ä»¥å­—ç¬¦ä¸²çš„æ–¹å¼è¾“å‡ºã€‚

![åŒ…å«æ•°å­—çš„å›¾ç‰‡.png](http://upload-images.jianshu.io/upload_images/1248713-8b9199aed071b13e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
 
#### ä¸‰ã€å¼€æºæ¡†æ¶OpenCVå’ŒTesseractOCRiOS
- ###### OpenCVï¼ˆå®Œæˆå›¾åƒå¤„ç†æŠ€æœ¯ï¼‰
â€ƒâ€ƒOpenCVæ˜¯ä¸€ä¸ªå¼€æºçš„è·¨å¹³å°è®¡ç®—æœºè§†è§‰å’Œæœºå™¨å­¦ä¹ åº“ï¼Œé€šä¿—ç‚¹çš„è¯´ï¼Œå°±æ˜¯ä»–ç»™è®¡ç®—æœºæä¾›äº†ä¸€åŒçœ¼ç›ï¼Œä¸€åŒå¯ä»¥ä»å›¾ç‰‡ä¸­è·å–ä¿¡æ¯çš„çœ¼é•œï¼Œä»è€Œå®Œæˆäººè„¸è¯†åˆ«ã€èº«ä»½è¯è¯†åˆ«ã€å»çº¢çœ¼ã€è¿½è¸ªç§»åŠ¨ç‰©ä½“ç­‰ç­‰çš„å›¾åƒç›¸å…³çš„åŠŸèƒ½ã€‚[opencvå®˜ç½‘](http://opencv.org/)

- ###### TesseractOCRiOSï¼ˆå®Œæˆæ–‡å­—è¯†åˆ«æŠ€æœ¯ï¼‰
â€ƒâ€ƒTesseractæ˜¯ç›®å‰å¯ç”¨çš„æœ€å‡†ç¡®çš„å¼€æºOCRå¼•æ“ï¼Œå¯ä»¥è¯»å–å„ç§æ ¼å¼çš„å›¾ç‰‡å¹¶å°†ä»–ä»¬è½¬æ¢æˆå„ç§è¯­è¨€æ–‡æœ¬ã€‚è€ŒTesseractOCRiOSåˆ™æ˜¯é’ˆå¯¹iOSå¹³å°å°è£…çš„Tesseractå¼•æ“åº“ã€‚

#### å››ã€å®æˆ˜æ¼”ç¤º
- ###### åˆ›å»ºä¸€ä¸ªiOSé¡¹ç›®
- ###### ç”¨CocoPodså¯¼å…¥ä¸Šé¢ä¸¤ä¸ªåº“
ç”±äºOpenCVåº“æ–‡ä»¶æ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥æ—¶é—´ä¼šç¨å¾®ä¹…ä¸€ç‚¹ï¼Œè€å¿ƒç­‰å¾…å°±æ˜¯ã€‚

![podfileæ–‡ä»¶.png](http://upload-images.jianshu.io/upload_images/1248713-32c649f05acf5d64.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

- ###### å¯¼å…¥å®Œæˆä¹‹åè¿è¡Œé¡¹ç›®ï¼Œä¼šå‘ç°æŠ¥å¦‚ä¸‹é”™è¯¯

![BitodeæŠ¥é”™.png](http://upload-images.jianshu.io/upload_images/1248713-296ca01578ad6c92.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

ç”±äºå¯¼å…¥çš„åº“ä¸æ”¯æŒBitcodeæœºåˆ¶ï¼Œéœ€è¦å…³æ‰ï¼Œåœ¨å·¥ç¨‹->TARGETS->Build Setting-> Enable Bitcodeè®¾ç½®ä¸ºNOå°±okã€‚

![å…³æ‰Bitcode.png](http://upload-images.jianshu.io/upload_images/1248713-4d2b784bc23a6837.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

- ###### å¯¼å…¥TesseractOCRiOSéœ€è¦çš„è¯­è¨€åŒ…
â€ƒâ€ƒTesseractOCRiOSåº“ä¸­æ²¡æœ‰è‡ªå¸¦çš„è¯­è¨€åŒ…ï¼Œéœ€è¦æˆ‘ä»¬è‡ªå·±æ‰‹åŠ¨å¯¼å…¥ï¼Œæˆ‘ä»¬è¿™é‡Œç›´æ¥åˆ°[tesseract-ocr](https://github.com/tesseract-ocr)ç½‘ç«™ï¼Œtessdataå³æ˜¯æˆ‘ä»¬éœ€è¦ç”¨åˆ°çš„è¯­è¨€åŒ…ã€‚ä¸‹è½½ä¸‹æ¥çš„è¯­è¨€åŒ…æœ‰400å¤šå…†ã€‚è¿™é‡Œæˆ‘ä»¬åªéœ€è¦ç”¨åˆ°è‹±è¯­è¯­è¨€åŒ…ï¼Œæ‰€ä»¥å°±åªå¯¼å…¥eng.traineddataå°±okï¼Œå…¶ä»–çš„éƒ½åˆ æ‰ã€‚

å¯¼å…¥è¯­è¨€åŒ…ç§éœ€è¦æ³¨æ„å‡ ç‚¹ï¼š
 1. è¯­è¨€åŒ…éœ€è¦æ”¾åœ¨tessdataç›®å½•ä¸‹ã€‚TesseractOCRiOSä¸­æŸ¥æ‰¾è¯­è¨€åŒ…æ˜¯åœ¨tessdataç›®å½•ä¸‹è¿›è¡ŒæŸ¥æ‰¾çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸èƒ½å•ç‹¬æŠŠeng.traineddataå¯¼å…¥é¡¹ç›®ä¸­ï¼Œè€Œéœ€è¦æ”¾åœ¨tessdataç›®å½•ä¸‹å¯¼å…¥é¡¹ç›®ä¸­ã€‚
 2. å°†tessdataå¯¼å…¥xcodeé¡¹ç›®ï¼Œéœ€è¦å‹¾é€‰Create folder refrencesã€‚ä¸Šé¢å·²ç»æåˆ°äº†è¯­è¨€åŒ…éœ€è¦æ”¾åœ¨tessdataç›®å½•ä¸‹ï¼Œæ‰€ä»¥å¯¼å…¥æ–‡ä»¶åˆ°xcodeçš„æ—¶å€™éœ€è¦åˆ›å»ºæ–‡ä»¶å¤¹çš„å½¢å¼ï¼Œè€Œä¸æ˜¯åˆ›å»ºç»„çš„å½¢å¼ã€‚å¦‚ä¸‹å›¾ï¼š

![å¯¼å…¥tessdataæ–‡ä»¶å¤¹çš„æ–¹å¼.png](http://upload-images.jianshu.io/upload_images/1248713-68f07dd7d28ec043.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

- ###### åˆ›å»ºä¸€ä¸ªRecogizeCardManagerç”¨æ¥ç®¡ç†èº«ä»½è¯è¯†åˆ«ç›¸å…³çš„ä»£ç ã€‚
ç”±äºOpenCVå’ŒTesseractOCRiOSåº“éƒ½æ˜¯åŸºäºc++ç¼–å†™çš„ï¼Œæ‰€ä»¥éœ€è¦æŠŠRecogizeCardManager.måç¼€çš„.mæ”¹æˆ.mm

![RecogizeCardManager.png](http://upload-images.jianshu.io/upload_images/1248713-c4cc50713f3e0340.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

- ###### RecogizeCardManagerä¸­çš„ä»£ç 

###### .hæ–‡ä»¶
```
#import <Foundation/Foundation.h>
@class UIImage;

typedef void (^CompleateBlock)(NSString *text);

@interface RecogizeCardManager : NSObject
  
/**
*Â  åˆå§‹åŒ–ä¸€ä¸ªå•ä¾‹
*
*Â  @return è¿”å›ä¸€ä¸ªRecogizeCardManagerçš„å®ä¾‹å¯¹è±¡
*/
+ (instancetype)recognizeCardManager;

/**
*Â  æ ¹æ®èº«ä»½è¯ç…§ç‰‡å¾—åˆ°èº«ä»½è¯å·ç 
*
*Â  @param cardImage ä¼ å…¥çš„èº«ä»½è¯ç…§ç‰‡
*Â  @param compleate è¯†åˆ«å®Œæˆåçš„å›è°ƒ
*/
- (void)recognizeCardWithImage:(UIImage *)cardImage compleate:(CompleateBlock)compleate;

@end 
```

###### .mæ–‡ä»¶
```
#import "RecogizeCardManager.h"
#import <opencv2/opencv.hpp>
#import <opencv2/imgproc/types_c.h>
#import <opencv2/imgcodecs/ios.h>
#import <TesseractOCR/TesseractOCR.h>

@implementation RecogizeCardManager

+ (instancetype)recognizeCardManager {
Â  Â  static RecogizeCardManager *recognizeCardManager = nil;
Â  Â  static dispatch
